using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using DialogueEditor;

public class ConversationStarter : MonoBehaviour
{
    public bool DialogStarted;
    [SerializeField] public DownloadTestData data;
    [SerializeField] public NPCConversation myConversation;
    public void StartDialog()
    {
        data = FindObjectOfType<DownloadTestData>();
        if (ConversationManager.Instance.IsConversationActive)
        {
            Debug.LogError("??????? ????????? ?????? ??? ??? ?????????? ???????. ??????????? ??????, ?? ???????");
            return;
        }

        DataPlayer playerData = FindObjectOfType<DataPlayer>();
        ConversationManager.Instance.StartConversation(myConversation);
        DialogStarted = true;
        Debug.Log("Dialog Started");
        //TODO: ??????? ?????? ? ???????? ?????? data.countSuccessAnswer ??? ????? ???????.
        Debug.Log(data.countSuccessAnswers);
    }

    public void DialogEnded()
    {
        DialogStarted = false;

    }
}
